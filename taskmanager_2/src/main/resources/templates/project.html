<!DOCTYPE html>
<html lang= "en"
	  xmlns = "http://www.w3.org/1999/xhtml"
	  xmlns:th = "https://www.thymeleaf.org">
<head>
	<title>TaskManager</title>
</head>

<body>
	<h1 th:text="${project.name}"></h1>
	<h4 th:text="${project.description}" style= "color:gray"></h4>
	
	<!-- <a th:if="${my=='true'}" th:href="${project.id}+'/manageMembers'">Manage member</a> -->
	<a th:if="${my=='true'}" th:href="${project.id} + '/manageMembers'">Manage member</a>
	<div th:if="${members.size() > 0}">
		<h3>Shared with: </h3>
		<ul>
			<li th:each="member : ${members}">
				<div th:text="${member.firstname} + ' ' + ${member.lastname}"></div>
		</ul>
	</div>
	
	<h3>Task</h3>
	<ul>
		<li th:each = "task: ${project.tasks}" style="border:DOTTED; border-radius:10px; width:400px; padding:10px; margin:5px;">
			<div th:text="${task.name}"></div>
			<div th:text="${task.description}"></div>
			<form method="POST" th:action="@{'/tasks/delete/' + ${task.id} + '/' + ${project.id}}">
				<button type="submit" name="submit" value="value">Elimina</button>
			</form>
			<a th:href="'/task/updateForm/' + ${task.id} + '/' + ${project.id}">Aggiorna</a>
			<div><a th:href="'/task/viewTask/' + ${task.id} + '/' + ${project.id}">Visualizza</a></div>
			<div><a th:href="'/task/commentForm/' + ${task.id} + '/' + ${project.id}">Commenta</a></div>
		</li>
	</ul>
	<p><a th:href="'/task/add/' + ${project.id}">Add new task</a></p>
	
	<h2>Project's tags</h2>
	<p><a th:href="${project.id} + '/tag/create'">Create a tag</a></p>
	<div>
		<ul>
			<li th:each = "tag: ${project.tags}" style="border:DOTTED; border-radius:10px; width:400px; padding:10px; margin:5px;">
				<h3 th:text="${tag.name}" style="margin:5px;"></h3>
				<i th:text="${tag.color}" style="margin:10px;"></i>
				<div th:text="${tag.description}" style="margin:5px;"></div>
				<br/>
			</li> 
		</ul>
	</div>
	
	<p><a th:href="'/projects/updateForm/' + ${project.id}">Update project</a>
</body>